<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="screen-orientation" content="landscape" />
    <title>Infinity World</title>
    <link rel="stylesheet" href="/src/styles/main.css" />
  </head>
  <body>
    <!-- Canvas 3D de Babylon.js -->
    <canvas id="game-canvas"></canvas>

    <!-- UI Overlay -->
    <div id="ui-overlay">

      <!-- HUD Superior Izquierda: Recursos -->
      <div id="hud-top-left">
        <div class="resource-bar">
          <div class="resource" id="resource-gold">
            <div class="resource-icon gold-icon"></div>
            <span class="resource-value">15,450</span>
          </div>
          <div class="resource" id="resource-gems">
            <div class="resource-icon gem-icon"></div>
            <span class="resource-value">250</span>
          </div>
        </div>

        <!-- Quest/Mission -->
        <div id="quest-bar">
          <div class="quest-icon"></div>
          <span class="quest-text">Build 3 Hedges: <strong>1/3</strong></span>
        </div>
      </div>

      <!-- HUD Superior Centro: Nivel y XP -->
      <div id="hud-top-center">
        <div class="level-container">
          <span class="level-number">5</span>
          <span class="level-label">XP</span>
          <div class="xp-bar">
            <div class="xp-fill" style="width: 35%;"></div>
          </div>
        </div>
      </div>

      <!-- HUD Superior Derecha: Settings y Shop -->
      <div id="hud-top-right">
        <button class="icon-btn" id="btn-settings">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
          </svg>
        </button>
        <button class="icon-btn" id="btn-shop">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
          </svg>
        </button>
      </div>

      <!-- Panel de Construcción (Abajo Izquierda) -->
      <div id="build-panel">
        <!-- Tabs -->
        <div class="build-tabs">
          <button class="build-tab active" data-category="buildings">
            <svg viewBox="0 0 24 24" fill="currentColor" class="tab-icon">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
            <span>Buildings</span>
          </button>
          <button class="build-tab" data-category="nature">
            <svg viewBox="0 0 24 24" fill="currentColor" class="tab-icon">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
            <span>Nature</span>
          </button>
          <button class="build-tab" data-category="decor">
            <svg viewBox="0 0 24 24" fill="currentColor" class="tab-icon">
              <path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/>
            </svg>
            <span>Decor</span>
          </button>
        </div>

        <!-- Items Grid -->
        <div class="build-items-container">
          <div id="build-items" class="build-items">
            <!-- Items se generan dinámicamente -->
          </div>
        </div>
      </div>

      <!-- Herramientas de Edición (Derecha) -->
      <div id="edit-tools">
        <button class="edit-tool-btn" id="btn-move" title="Move">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"/>
          </svg>
        </button>
        <button class="edit-tool-btn" id="btn-rotate" title="Rotate">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/>
          </svg>
        </button>
        <button class="edit-tool-btn" id="btn-info" title="Info">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
          </svg>
        </button>
        <button class="edit-tool-btn danger" id="btn-delete" title="Delete">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
          </svg>
        </button>
      </div>

      <!-- Botón Principal de Construcción (Abajo Derecha) -->
      <button id="btn-build-mode" class="build-mode-btn">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>
        </svg>
      </button>

    </div>

    <!-- Toast para notificaciones -->
    <div id="toast" class="toast"></div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
